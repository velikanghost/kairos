# yaml-language-server: $schema=./node_modules/envio/evm.schema.json
name: envio-indexer
networks:
  - id: 143
    start_block: 21000000
    contracts:
      - name: PositionManager
        address:
          - 0x5b7eC4a94fF9beDb700fb82aB09d5846972F4016
        handler: src/EventHandlers.ts
        events:
          - event: Approval(address indexed owner, address indexed spender, uint256 indexed id)
          - event: ApprovalForAll(address indexed owner, address indexed operator, bool approved)
          - event: Subscription(uint256 indexed tokenId, address indexed subscriber)
          - event: Transfer(address indexed from, address indexed to, uint256 indexed id)
          - event: Unsubscription(uint256 indexed tokenId, address indexed subscriber)
      - name: PoolManager
        address:
          - 0x188d586Ddcf52439676Ca21A244753fA19F9Ea8e
        handler: src/EventHandlers.ts
        events:
          - event: Approval(address indexed owner, address indexed spender, uint256 indexed id, uint256 amount)
          - event: Donate(bytes32 indexed id, address indexed sender, uint256 amount0, uint256 amount1)
          - event: Initialize(bytes32 indexed id, address indexed currency0, address indexed currency1, uint24 fee, int24 tickSpacing, address hooks, uint160 sqrtPriceX96, int24 tick)
          - event: ModifyLiquidity(bytes32 indexed id, address indexed sender, int24 tickLower, int24 tickUpper, int256 liquidityDelta, bytes32 salt)
          - event: OperatorSet(address indexed owner, address indexed operator, bool approved)
          - event: OwnershipTransferred(address indexed user, address indexed newOwner)
          - event: ProtocolFeeControllerUpdated(address indexed protocolFeeController)
          - event: ProtocolFeeUpdated(bytes32 indexed id, uint24 protocolFee)
          - event: Swap(bytes32 indexed id, address indexed sender, int128 amount0, int128 amount1, uint160 sqrtPriceX96, uint128 liquidity, int24 tick, uint24 fee)
          - event: Transfer(address caller, address indexed from, address indexed to, uint256 indexed id, uint256 amount)
      - name: KuruDexRouter
        address:
          - 0xd651346d7c789536ebf06dc72aE3C8502cd695CC
        handler: src/EventHandlers.ts
        events:
          - event: KuruRouterSwap(address msgSender, address debitToken, address creditToken, uint256 amountIn, uint256 amountOut)
          - event: MarketRegistered(address baseAsset, address quoteAsset, address market, address vaultAddress, uint32 pricePrecision, uint96 sizePrecision, uint32 tickSize, uint96 minSize, uint96 maxSize, uint256 takerFeeBps, uint256 makerFeeBps, uint96 kuruAmmSpread)
      - name: KuruMarginAccount
        address:
          - 0x2A68ba1833cDf93fa9Da1EEbd7F46242aD8E90c5
        handler: src/EventHandlers.ts
        events:
          - event: Deposit(address owner, address token, uint256 amount)
          - event: Withdrawal(address owner, address token, uint256 amount)
unordered_multichain_mode: true
preload_handlers: true
